<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Software Tutorial: Simulating particle diffusion with CellBlender - Biological Modeling: A Free Online Course</title>
<meta name="description" content="A free and open online course in biological modeling at multiple scales.">



<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Biological Modeling: A Free Online Course">
<meta property="og:title" content="Software Tutorial: Simulating particle diffusion with CellBlender">
<meta property="og:url" content="http://localhost:4000/prologue/tutorial-random-walk">


  <meta property="og:description" content="A free and open online course in biological modeling at multiple scales.">












<link rel="canonical" href="http://localhost:4000/prologue/tutorial-random-walk">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">



<!--SEO tagging -->
<!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Software Tutorial: Simulating particle diffusion with CellBlender | Biological Modeling: A Free Online Course</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Software Tutorial: Simulating particle diffusion with CellBlender" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A free and open online course in biological modeling at multiple scales." />
<meta property="og:description" content="A free and open online course in biological modeling at multiple scales." />
<link rel="canonical" href="http://localhost:4000/prologue/tutorial-random-walk" />
<meta property="og:url" content="http://localhost:4000/prologue/tutorial-random-walk" />
<meta property="og:site_name" content="Biological Modeling: A Free Online Course" />
<meta property="og:image" content="http://localhost:4000/assets/images/gray_scott_jupyter_3.png" />
<script type="application/ld+json">
{"description":"A free and open online course in biological modeling at multiple scales.","@type":"WebPage","url":"http://localhost:4000/prologue/tutorial-random-walk","image":"http://localhost:4000/assets/images/gray_scott_jupyter_3.png","headline":"Software Tutorial: Simulating particle diffusion with CellBlender","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-173522486-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-173522486-1');
</script>

    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="/">Biological Modeling: A Free Online Course</a>
        <ul class="visible-links">
                
                
                    <li class="masthead__menu-item">
                        <a href="/meet-the-team/">Course Team</a>
                    </li>
                
            
                
                
                    <li class="masthead__menu-item">
                        <a href="/contact/">Contact Us</a>
                    </li>
                
            
                
                
                    <li class="masthead__menu-item">
                        <a href="/contents/">Contents</a>
                    </li>
                
            
                
                
                    <li class="dropdown ">
                        <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Take the Course    <i class="fa fa-caret-down fa-sm" aria-hidden="true"></i><span class="caret"></span></a>
                        <ul class="dropdown-content">
                            
                                <li>
                                    <a href="/prologue/">    <b>Prologue:</b> an introduction to biological modeling via random walks and Turing patterns</a>
                                </li>
                            
                                <li>
                                    <a href="/motifs/home">    <b>Module 1:</b> Finding motifs in transcription factor networks</a>
                                </li>
                            
                                <li>
                                    <a href="/chemotaxis/home">    <b>Module 2:</b> Unpacking E. coli's genius exploration algorithm</a>
                                </li>
                            
                                <li>
                                    <a href="/coronavirus/home">    <b>Module 3:</b> Analyzing the coronavirus spike protein</a>
                                </li>
                            
                                <li>
                                    <a href="">    <b>Module 4:</b> coming soon!</a>
                                </li>
                            
                        </ul>
                    </li>
                
            
        </ul>
        
        <button class="search__toggle" type="button">
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle Menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">

  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>

  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">Prologue: an Introduction to Biological Modeling via Random Walks and Turing Patterns</span>
        

        
        <ul>
          
            <li><a href="/prologue/">Introduction: Life is random<br><br></a></li>
          
            <li><a href="/prologue/turing">Alan Turing and the zebra's stripes<br><br></a></li>
          
            <li><a href="/prologue/random-walk">An introduction to random walks<br><br></a></li>
          
            <li><a href="/prologue/animals">A reaction-diffusion model generating Turing patterns<br><br></a></li>
          
            <li><a href="/prologue/blocks">The Gray-Scott model: a cellular automaton generating Turing patterns<br><br></a></li>
          
            <li><a href="/prologue/conclusion">Conclusion: Turing patterns are fine-tuned<br><br></a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Software Tutorials (featuring MCell and CellBlender)</span>
        

        
        <ul>
          
            <li><a href="/prologue/tutorial-random-walk" class="active">Simulating particle diffusion with CellBlender<br><br></a></li>
          
            <li><a href="/prologue/turing-cellblender">Generating Turing patterns with a reaction-diffusion simulation in CellBlender<br><br></a></li>
          
            <li><a href="/prologue/tutorial-diffusion">Building a diffusion cellular automaton with Jupyter notebook<br><br></a></li>
          
            <li><a href="/prologue/gs-jupyter">Implementing the Gray-Scott reaction-diffusion automaton with Jupyter notebook<br><br></a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Software Tutorial: Simulating particle diffusion with CellBlender">
    
    
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Software Tutorial: Simulating particle diffusion with CellBlender
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#setting-up-cellblender">Setting up CellBlender</a></li><li><a href="#setting-up-cellblender-simulations">Setting up CellBlender simulations</a></li><li><a href="#navigating-the-cellblender-window">Navigating the CellBlender window</a></li><li><a href="#implementing-particle-diffusion">Implementing particle diffusion</a></li></ul>

            </nav>
          </aside>
        
        <h2 id="setting-up-cellblender">Setting up CellBlender</h2>
<p>Setting up CellBlender can be done using the default tutorial with just a few changes from the original installation instructions.</p>

<p>First, follow the instructions from the <a href="https://mcell.org/downloads/windows/install_2019_05/index.html">CellBlender website</a>, with the following disclaimer.</p>

<p class="notice--warning"><strong>Note:</strong> CellBlender requires a previous version of Blender. Use the following two changes to the default installation instructions.</p>

<p>First, instead of downloading the newest version of Blender, go to the previous versions tab…</p>

<p><img src="../assets/images/motifs_website.png" alt="image-center" class="align-center" /></p>

<p>…and download Blender 2.79b.</p>

<p>Second, once Blender is downloaded,  the file path may be different from what is shown in the CellBlender tutorial- instead of <em>Blender/2.79/python/bin</em>, the pathway may be something like: <em>blender-2.79/2.79/python/bin</em>. Changing the name of the downloaded Blender folder to match the path in the tutorial may help reduce confusion.</p>

<h2 id="setting-up-cellblender-simulations">Setting up CellBlender simulations</h2>

<p>From a new Blender file, initialize CellBlender. Delete the existing default cube by right-clicking on the cube to select the cube (an orange outline should be around the cube when it is selected) and pressing the “x” key to delete. Then, in the tab <code class="language-plaintext highlighter-rouge">CellBlender &gt; Model Objects</code>, insert a new plane, following the figure below.</p>

<p style="font-size: medium;"><img src="../assets/images/motifs_setup1.png" alt="image-center" class="align-center" />
In <code class="language-plaintext highlighter-rouge">CellBlender &gt; Model Objects</code>, click the <code class="language-plaintext highlighter-rouge">+</code> symbol to center the cursor. Next press the square “plane” button to create the object. To have CellBlender recognize this object as a model object, press the <code class="language-plaintext highlighter-rouge">+</code> button. The name of this object is <code class="language-plaintext highlighter-rouge">Plane</code> by default, although you can change this name and edit the color by selecting the color wheel if you like. A slightly transparent coloring will help with visibility but is not necessary.</p>

<p>Resizing the render preview window so that objects are visible in the center of the screen is recommended. See the following figure for instructions. Then save your file as <code class="language-plaintext highlighter-rouge">CellBlender_Tutorial_Template.blend</code>.</p>

<p style="font-size: medium;"><img src="../assets/images/motifs_setup2.png" alt="image-center" class="align-center" />
From the View menu, select <code class="language-plaintext highlighter-rouge">Top</code> to align the view directly overhead. With the plane object selected, follow the arrow over to the object parameters menu (the orange cube) and scale the plane by setting the first two values to “1.5”. Then, hover the mouse over the object and either use ctrl + “+” 6 times or the scroll wheel on your mouse to zoom in.</p>

<h2 id="navigating-the-cellblender-window">Navigating the CellBlender window</h2>

<p>This section will provide images and descriptions for the different components of the Blender window. When a new file has been created, the following figure shows the menu options available.</p>

<p><img src="../assets/images/motifs_nav1.png" alt="image-center" class="align-center" /></p>

<p><strong>A:</strong> This is the window for modules like CellBlender. To start CellBlender, you must click the <code class="language-plaintext highlighter-rouge">CellBlender</code> tab and then click the <code class="language-plaintext highlighter-rouge">Initialize CellBlender</code> button as shown in the image. This will then display the image shown as “D” in the figure below.</p>

<p><strong>B:</strong> There are many <code class="language-plaintext highlighter-rouge">View</code> tabs throughout the Blender window. Any future tutorials referring to the <code class="language-plaintext highlighter-rouge">View</code> tab are referencing this tab.</p>

<p><strong>C:</strong> This window contains options relating to a selected object.</p>

<p><img src="../assets/images/motifs_nav2.png" alt="image-center" class="align-center" /></p>

<p><strong>D:</strong> This is the <code class="language-plaintext highlighter-rouge">CellBlender</code> menu, which opens after CellBlender has been initialized, and contains sub-menus which will be noted as follows: <code class="language-plaintext highlighter-rouge">CellBlender &gt; Model Objects</code>. We recommend dragging the edge of the window outward to increase visibility (see box “e” on the image above).</p>

<h2 id="implementing-particle-diffusion">Implementing particle diffusion</h2>

<p>In CellBlender, load the <code class="language-plaintext highlighter-rouge">CellBlender_Tutorial_Template.blend</code> file from the previous section and save your file as <code class="language-plaintext highlighter-rouge">random_walk.blend</code>. You may also download the completed tutorial file <a href="../tutorials/random_walk_200.blend" download="random_walk_200.blend">here</a>.</p>

<p><img src="../assets/images/cellblender_location.png" alt="image-center" class="align-center" /></p>

<p>Right click the plane object to ensure it is selected. Visit the object parameters menu (the orange cube) and move the plane by setting the third <code class="language-plaintext highlighter-rouge">location</code> value to 1.0 instead of 0.0.</p>

<p>Then select <code class="language-plaintext highlighter-rouge">CellBlender &gt; Molecules</code> and create the following molecules:</p>

<p><img src="../assets/images/motifs_norm1.png" alt="image-center" class="align-center" /></p>

<ol>
  <li>Click the <code class="language-plaintext highlighter-rouge">+</code> button.</li>
  <li>Select a color (such as orange).</li>
  <li>Name the molecule <code class="language-plaintext highlighter-rouge">X</code>.</li>
  <li>Select the molecule type as <code class="language-plaintext highlighter-rouge">Surface Molecule</code>.</li>
  <li>Add a diffusion constant of <code class="language-plaintext highlighter-rouge">1e-6</code>.</li>
  <li>Increase the scale factor to <code class="language-plaintext highlighter-rouge">5</code> (click and type <code class="language-plaintext highlighter-rouge">5</code> or use the arrows).</li>
</ol>

<p>Now visit <code class="language-plaintext highlighter-rouge">CellBlender &gt; Molecule Placement</code> to set the following sites for molecules to be released:</p>

<p><img src="../assets/images/motifs_norm3.png" alt="image-center" class="align-center" /></p>

<ol>
  <li>Click the <code class="language-plaintext highlighter-rouge">+</code> button.</li>
  <li>Select or type in the molecule <code class="language-plaintext highlighter-rouge">X</code>.</li>
  <li>Type in the name of the Object/Region <code class="language-plaintext highlighter-rouge">Plane</code>.</li>
  <li>Set the Quantity to Release as <code class="language-plaintext highlighter-rouge">1</code>.</li>
</ol>

<p>Finally, we are ready to run our diffusion simulation. Visit <code class="language-plaintext highlighter-rouge">CellBlender &gt; Run Simulation</code> and select the following options:</p>

<p><img src="../assets/images/motifs_norm7.png" alt="image-center" class="align-center" /></p>

<ol>
  <li>Set the number of iterations to <code class="language-plaintext highlighter-rouge">1000</code>.</li>
  <li>Ensure the time step is set as <code class="language-plaintext highlighter-rouge">1e-6</code>.</li>
  <li>Click <code class="language-plaintext highlighter-rouge">Export &amp; Run</code>.</li>
</ol>

<p>The simulation should run quickly, and we are ready to visualize the outcome of the simulation. To do so, visit <code class="language-plaintext highlighter-rouge">CellBlender &gt; Reload Visualization Data</code>. You have the option of watching the animation within the Blender window by clicking the play button at the bottom of the screen, as indicated in the figure below. Then, save your file.</p>

<p><img src="../assets/images/motifs_norm8.png" alt="image-center" class="align-center" /></p>

<p>You can also save and export the movie of your animation using the following steps:</p>

<p><img src="../assets/images/cellblender_render.png" alt="image-center" class="align-center" /></p>

<ol>
  <li>Click the movie tab.</li>
  <li>Scroll down to the file name.</li>
  <li>Select a suitable location for your file.</li>
  <li>Select your favorite file format (we suggest FFmpeg_video).</li>
  <li>Click <code class="language-plaintext highlighter-rouge">Render &gt; OpenGL Render Animation</code>.</li>
</ol>

<p>The movie will begin playing, and when the animation is complete, the movie file should be found in the folder location you selected.</p>

<p>Now that we have run and visualized our diffusion, we will head back to the main text, where we will continue on with our discussion of how the diffusion of particles can help us find Turing patterns.</p>

<p style="font-size: 100%; text-align: center;"><a href="random-walk#brownian-motion-big-numbers-in-small-spaces" class="btn btn--primary btn--large">Return to main text</a></p>

        
      </section>

      <footer class="page__meta">
        
        


        

      </footer>

      

      
    </div>

    
  </article>

  <!-- only show related on a post page when `related: true`
  
  
  -->
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><div class="search-searchbar"></div>
  <div class="search-hits"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <hr>
  <a href="http://cbd.cmu.edu" target="_blank"><img align = "left" src="../assets/images/CMU_CBD_logos.png" alt="CBD Logo" width="40%" height="40%"></a>
  <a href="http://mmbios.pitt.edu" target="_blank"><img align="right" src="../assets/images/MMBioS_Logo.png" alt="MMBioS Logo" width="50%" height="50%"></a>
</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>


<!-- Including InstantSearch.js library and styling -->
<script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3.3/dist/instantsearch.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3.3/dist/instantsearch.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3.3/dist/instantsearch-theme-algolia.min.css">

<script>
// Instanciating InstantSearch.js with Algolia credentials
const search = instantsearch({
  appId: 'O24616B64D',
  apiKey: '3d5df9a350e2a9a5039314b58ef8c32d',
  indexName: 'biological_modeling',
  searchParameters: {
    restrictSearchableAttributes: [
      'title',
      'content'
    ]
  }
});

const hitTemplate = function(hit) {
  const url = hit.url;
  const title = hit._highlightResult.title.value;
  const content = hit._highlightResult.html.value;

  return `
    <div class="list__item">
      <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
        <h2 class="archive__item-title" itemprop="headline"><a href="${url}">${title}</a></h2>
        <div class="archive__item-excerpt" itemprop="description">${content}</div>
      </article>
    </div>
  `;
}

// Adding searchbar and results widgets
search.addWidget(
  instantsearch.widgets.searchBox({
    container: '.search-searchbar',
    poweredBy: true,
    placeholder: 'Enter your search term...'
  })
);
search.addWidget(
  instantsearch.widgets.hits({
    container: '.search-hits',
    templates: {
      item: hitTemplate,
      empty: 'No results',
    }
  })
);

// Starting the search only when toggle is clicked
$(document).ready(function () {
  $(".search__toggle").on("click", function() {
    if(!search.started) {
      search.start();
    }
  });
});
</script>








  </body>
</html>
